import{S as j,i as F,s as R,e as y,a as A,c as w,b as E,d as g,f as M,g as p,h as V,j as x,k,n as S,l as z,o as W,m as P,r as B,t as G,p as J}from"./index.669fa2c9.js";/* empty css                       */function q(n){return n?.length!==void 0?n:Array.from(n)}function K(){try{const n=window;return!1}catch{return!0}}function N(n,e,t){const a=n.slice();return a[12]=e[t],a}function T(n,e,t){const a=n.slice();return a[15]=e[t],a[17]=t,a}function C(n){let e,t,a,m,r;return{c(){e=y("div"),this.h()},l(i){e=w(i,"DIV",{class:!0,"data-num":!0,"data-pos":!0,role:!0,tabindex:!0}),E(e).forEach(g),this.h()},h(){p(e,"class",t="piece "+(n[3]===n[17]?"shake":"")+" svelte-1wlqhxu"),p(e,"data-num",n[17]+1),p(e,"data-pos",a=n[15]),p(e,"role","button"),p(e,"tabindex","-1")},m(i,u){x(i,e,u),m||(r=[P(e,"click",n[5]),P(e,"keyup",n[5])],m=!0)},p(i,u){u&8&&t!==(t="piece "+(i[3]===i[17]?"shake":"")+" svelte-1wlqhxu")&&p(e,"class",t),u&1&&a!==(a=i[15])&&p(e,"data-pos",a)},d(i){i&&g(e),m=!1,B(r)}}}function H(n){let e,t,a=n[12]+"",m,r;return{c(){e=y("div"),t=y("span"),m=G(a),r=A(),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var u=E(e);t=w(u,"SPAN",{class:!0});var o=E(t);m=J(o,a),o.forEach(g),r=M(u),u.forEach(g),this.h()},h(){p(t,"class","svelte-1wlqhxu"),p(e,"class","letter svelte-1wlqhxu"),p(e,"style",n[12]==="ё"?"font-style: italic":"")},m(i,u){x(i,e,u),k(e,t),k(t,m),k(e,r)},p:S,d(i){i&&g(e)}}}function X(n){let e;return{c(){e=y("div"),this.h()},l(t){e=w(t,"DIV",{class:!0}),E(e).forEach(g),this.h()},h(){p(e,"class","shutter svelte-1wlqhxu")},m(t,a){x(t,e,a)},d(t){t&&g(e)}}}function L(n){let e,t,a,m,r,i,u=q(n[0]),o=[];for(let s=0;s<u.length;s+=1)o[s]=C(T(n,u,s));let b=q(n[4]),h=[];for(let s=0;s<b.length;s+=1)h[s]=H(N(n,b,s));let c=n[1]&&X();return{c(){e=y("header"),t=y("div"),a=y("div");for(let s=0;s<o.length;s+=1)o[s].c();m=A(),r=y("div");for(let s=0;s<h.length;s+=1)h[s].c();i=A(),c&&c.c(),this.h()},l(s){e=w(s,"HEADER",{class:!0});var _=E(e);t=w(_,"DIV",{class:!0,style:!0});var l=E(t);a=w(l,"DIV",{class:!0});var f=E(a);for(let d=0;d<o.length;d+=1)o[d].l(f);f.forEach(g),m=M(l),r=w(l,"DIV",{class:!0});var v=E(r);for(let d=0;d<h.length;d+=1)h[d].l(v);v.forEach(g),l.forEach(g),i=M(_),c&&c.l(_),_.forEach(g),this.h()},h(){p(a,"class","pieces"),p(r,"class","letters"),p(t,"class","cover-box svelte-1wlqhxu"),V(t,"--gap-size",n[2]),p(e,"class","cover svelte-1wlqhxu")},m(s,_){x(s,e,_),k(e,t),k(t,a);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(a,null);k(t,m),k(t,r);for(let l=0;l<h.length;l+=1)h[l]&&h[l].m(r,null);k(e,i),c&&c.m(e,null)},p(s,[_]){if(_&41){u=q(s[0]);let l;for(l=0;l<u.length;l+=1){const f=T(s,u,l);o[l]?o[l].p(f,_):(o[l]=C(f),o[l].c(),o[l].m(a,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=u.length}if(_&16){b=q(s[4]);let l;for(l=0;l<b.length;l+=1){const f=N(s,b,l);h[l]?h[l].p(f,_):(h[l]=H(f),h[l].c(),h[l].m(r,null))}for(;l<h.length;l+=1)h[l].d(1);h.length=b.length}_&4&&V(t,"--gap-size",s[2]),s[1]?c||(c=X(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:S,o:S,d(s){s&&g(e),z(o,s),z(h,s),c&&c.d()}}}function O(n,e,t){let a;const m="alexlunёv".split("");let r=Array.from({length:9},(f,v)=>v+1),i=!1,u="inherit",o=null;const b=f=>{const v=f%3,d=Math.floor(f/3);return[v,d]};function h(f,v){const[d,I]=b(f),[D,Y]=b(v);return Math.abs(d-D)+Math.abs(I-Y)===1}let c=null,s=null,_=null;function l(f){if(a)return;const v=f.target,d=Number(v.dataset.num)-1,I=Number(v.dataset.pos)-1;if(c!==d)if(c===null||s===null)c=d,s=I;else if(h(s,I)){const D=r[d];t(0,r[d]=r[c],r),t(0,r[c]=D,r),c=null,s=null}else t(3,_=d),setTimeout(()=>{t(3,_=null)},500)}return W(()=>{t(7,o=new Audio("shutter-sound.mp3")),setTimeout(()=>{t(0,r=r.sort(()=>.5-Math.random())),t(6,i=!0)},300)}),n.$$.update=()=>{n.$$.dirty&65&&t(1,a=!r.some((f,v,d)=>f>d[v+1])&&i&&!K()),n.$$.dirty&130&&a&&setTimeout(()=>{t(2,u="0px");try{o?.play()}catch{}},300)},[r,a,u,_,m,l,i,o]}class $ extends j{constructor(e){super(),F(this,e,O,L,R,{})}}export{$ as default};
