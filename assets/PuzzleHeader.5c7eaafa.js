import{S as N,i as R,s as W,e as y,a as S,c as k,b,d as v,f as V,g as d,h as P,j as I,k as g,n as z,l as w,o as B,m as C,r as F,t as G,p as J}from"./index.669fa2c9.js";/* empty css                       */function D(s){return s?.length!==void 0?s:Array.from(s)}function K(){try{const s=window;return!1}catch{return!0}}function H(s,e,l){const r=s.slice();return r[10]=e[l],r}function M(s,e,l){const r=s.slice();return r[13]=e[l],r[15]=l,r}function T(s){let e,l,r,_;function c(){return s[7](s[15])}function f(){return s[8](s[15])}return{c(){e=y("div"),this.h()},l(o){e=k(o,"DIV",{class:!0,"data-num":!0,"data-pos":!0,role:!0,tabindex:!0}),b(e).forEach(v),this.h()},h(){d(e,"class","piece svelte-1hcuvc"),d(e,"data-num",s[15]+1),d(e,"data-pos",l=s[13]),d(e,"role","button"),d(e,"tabindex","-1")},m(o,a){I(o,e,a),r||(_=[C(e,"click",c),C(e,"keyup",f)],r=!0)},p(o,a){s=o,a&1&&l!==(l=s[13])&&d(e,"data-pos",l)},d(o){o&&v(e),r=!1,F(_)}}}function j(s){let e,l,r=s[10]+"",_,c;return{c(){e=y("div"),l=y("span"),_=G(r),c=S(),this.h()},l(f){e=k(f,"DIV",{class:!0,style:!0});var o=b(e);l=k(o,"SPAN",{class:!0});var a=b(l);_=J(a,r),a.forEach(v),c=V(o),o.forEach(v),this.h()},h(){d(l,"class","svelte-1hcuvc"),d(e,"class","letter svelte-1hcuvc"),d(e,"style",s[10]==="ё"?"font-style: italic":"")},m(f,o){I(f,e,o),g(e,l),g(l,_),g(e,c)},p:z,d(f){f&&v(e)}}}function q(s){let e;return{c(){e=y("div"),this.h()},l(l){e=k(l,"DIV",{class:!0}),b(e).forEach(v),this.h()},h(){d(e,"class","shutter svelte-1hcuvc")},m(l,r){I(l,e,r)},d(l){l&&v(e)}}}function L(s){let e,l,r,_,c,f,o=D(s[0]),a=[];for(let n=0;n<o.length;n+=1)a[n]=T(M(s,o,n));let p=D(s[3]),u=[];for(let n=0;n<p.length;n+=1)u[n]=j(H(s,p,n));let h=s[1]&&q();return{c(){e=y("header"),l=y("div"),r=y("div");for(let n=0;n<a.length;n+=1)a[n].c();_=S(),c=y("div");for(let n=0;n<u.length;n+=1)u[n].c();f=S(),h&&h.c(),this.h()},l(n){e=k(n,"HEADER",{class:!0});var i=b(e);l=k(i,"DIV",{class:!0,style:!0});var t=b(l);r=k(t,"DIV",{class:!0});var m=b(r);for(let E=0;E<a.length;E+=1)a[E].l(m);m.forEach(v),_=V(t),c=k(t,"DIV",{class:!0});var A=b(c);for(let E=0;E<u.length;E+=1)u[E].l(A);A.forEach(v),t.forEach(v),f=V(i),h&&h.l(i),i.forEach(v),this.h()},h(){d(r,"class","pieces"),d(c,"class","letters"),d(l,"class","cover-box svelte-1hcuvc"),P(l,"--gap-size",s[2]),d(e,"class","cover svelte-1hcuvc")},m(n,i){I(n,e,i),g(e,l),g(l,r);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(r,null);g(l,_),g(l,c);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(c,null);g(e,f),h&&h.m(e,null)},p(n,[i]){if(i&17){o=D(n[0]);let t;for(t=0;t<o.length;t+=1){const m=M(n,o,t);a[t]?a[t].p(m,i):(a[t]=T(m),a[t].c(),a[t].m(r,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=o.length}if(i&8){p=D(n[3]);let t;for(t=0;t<p.length;t+=1){const m=H(n,p,t);u[t]?u[t].p(m,i):(u[t]=j(m),u[t].c(),u[t].m(c,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=p.length}i&4&&P(l,"--gap-size",n[2]),n[1]?h||(h=q(),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:z,o:z,d(n){n&&v(e),w(a,n),w(u,n),h&&h.d()}}}function O(s,e,l){let r;const _="alexlunёv".split("");let c=Array.from({length:9},(i,t)=>t+1),f=!1,o="inherit",a=null,p=null;function u(i){if(!r)if(p===null)p=i;else{const t=c[i];l(0,c[i]=c[p],c),l(0,c[p]=t,c),p=null}}B(()=>{l(6,a=new Audio("shutter-sound.mp3")),setTimeout(()=>{l(0,c=c.sort(()=>.5-Math.random())),l(5,f=!0)},300)});const h=i=>u(i),n=i=>u(i);return s.$$.update=()=>{s.$$.dirty&33&&l(1,r=!c.some((i,t,m)=>i>m[t+1])&&f&&!K()),s.$$.dirty&66&&r&&setTimeout(()=>{l(2,o="0px");try{a?.play()}catch{}},300)},[c,r,o,_,u,f,a,h,n]}class X extends N{constructor(e){super(),R(this,e,O,L,W,{})}}export{X as default};
