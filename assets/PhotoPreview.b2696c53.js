import{S as B,i as H,s as W,e as I,c as P,q as Y,g,j,m as w,n as y,d as S,r as G,u as x,a as T,b as N,f as D,v as _,k as b,w as k,x as C,y as Q,o as V,z as J,A as O,B as Z,C as F,D as $}from"./index.669fa2c9.js";/* empty css                        */const K=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{window:ff}=K;function ef(e){let f,a="Back",o,l;return{c(){f=I("a"),f.textContent=a,this.h()},l(d){f=P(d,"A",{href:!0,class:!0,["data-svelte-h"]:!0}),Y(f)!=="svelte-1nn2gax"&&(f.textContent=a),this.h()},h(){g(f,"href","."),g(f,"class","back svelte-z80bok")},m(d,r){j(d,f,r),e[5](f),o||(l=[w(ff,"keyup",e[1]),w(f,"click",e[2])],o=!0)},p:y,i:y,o:y,d(d){d&&S(f),e[5](null),o=!1,G(l)}}}function E(e){window.history.back(),setTimeout(()=>{window.location=e},50)}function U(e){window.history.replaceState(null,"",`/photos/${e}`),window.location.reload()}function af(e,f,a){let{prevPhotoId:o=null}=f,{nextPhotoId:l=null}=f,d;function r(n){n.key==="Escape"&&E("."),n.key==="ArrowLeft"&&o&&U(o),n.key==="ArrowRight"&&l&&U(l)}function i(n){n.preventDefault(),E(d.href)}function c(n){x[n?"unshift":"push"](()=>{d=n,a(0,d)})}return e.$$set=n=>{"prevPhotoId"in n&&a(3,o=n.prevPhotoId),"nextPhotoId"in n&&a(4,l=n.nextPhotoId)},[d,r,i,o,l,c]}class tf extends B{constructor(f){super(),H(this,f,af,ef,W,{prevPhotoId:3,nextPhotoId:4})}}const v=["#000000","#800000","#008000","#808000","#000080","#800080","#008080","#c0c0c0","#808080","#ff0000","#00ff00","#ffff00","#0000ff","#ff00ff","#00ffff","#ffffff","#000000","#00005f","#000087","#0000af","#0000d7","#0000ff","#005f00","#005f5f","#005f87","#005faf","#005fd7","#005fff","#008700","#00875f","#008787","#0087af","#0087d7","#0087ff","#00af00","#00af5f","#00af87","#00afaf","#00afd7","#00afff","#00d700","#00d75f","#00d787","#00d7af","#00d7d7","#00d7ff","#00ff00","#00ff5f","#00ff87","#00ffaf","#00ffd7","#00ffff","#5f0000","#5f005f","#5f0087","#5f00af","#5f00d7","#5f00ff","#5f5f00","#5f5f5f","#5f5f87","#5f5faf","#5f5fd7","#5f5fff","#5f8700","#5f875f","#5f8787","#5f87af","#5f87d7","#5f87ff","#5faf00","#5faf5f","#5faf87","#5fafaf","#5fafd7","#5fafff","#5fd700","#5fd75f","#5fd787","#5fd7af","#5fd7d7","#5fd7ff","#5fff00","#5fff5f","#5fff87","#5fffaf","#5fffd7","#5fffff","#870000","#87005f","#870087","#8700af","#8700d7","#8700ff","#875f00","#875f5f","#875f87","#875faf","#875fd7","#875fff","#878700","#87875f","#878787","#8787af","#8787d7","#8787ff","#87af00","#87af5f","#87af87","#87afaf","#87afd7","#87afff","#87d700","#87d75f","#87d787","#87d7af","#87d7d7","#87d7ff","#87ff00","#87ff5f","#87ff87","#87ffaf","#87ffd7","#87ffff","#af0000","#af005f","#af0087","#af00af","#af00d7","#af00ff","#af5f00","#af5f5f","#af5f87","#af5faf","#af5fd7","#af5fff","#af8700","#af875f","#af8787","#af87af","#af87d7","#af87ff","#afaf00","#afaf5f","#afaf87","#afafaf","#afafd7","#afafff","#afd700","#afd75f","#afd787","#afd7af","#afd7d7","#afd7ff","#afff00","#afff5f","#afff87","#afffaf","#afffd7","#afffff","#d70000","#d7005f","#d70087","#d700af","#d700d7","#d700ff","#d75f00","#d75f5f","#d75f87","#d75faf","#d75fd7","#d75fff","#d78700","#d7875f","#d78787","#d787af","#d787d7","#d787ff","#d7af00","#d7af5f","#d7af87","#d7afaf","#d7afd7","#d7afff","#d7d700","#d7d75f","#d7d787","#d7d7af","#d7d7d7","#d7d7ff","#d7ff00","#d7ff5f","#d7ff87","#d7ffaf","#d7ffd7","#d7ffff","#ff0000","#ff005f","#ff0087","#ff00af","#ff00d7","#ff00ff","#ff5f00","#ff5f5f","#ff5f87","#ff5faf","#ff5fd7","#ff5fff","#ff8700","#ff875f","#ff8787","#ff87af","#ff87d7","#ff87ff","#ffaf00","#ffaf5f","#ffaf87","#ffafaf","#ffafd7","#ffafff","#ffd700","#ffd75f","#ffd787","#ffd7af","#ffd7d7","#ffd7ff","#ffff00","#ffff5f","#ffff87","#ffffaf","#ffffd7","#ffffff","#080808","#121212","#1c1c1c","#262626","#303030","#3a3a3a","#444444","#4e4e4e","#585858","#626262","#6c6c6c","#767676","#808080","#8a8a8a","#949494","#9e9e9e","#a8a8a8","#b2b2b2","#bcbcbc","#c6c6c6","#d0d0d0","#dadada","#e4e4e4","#eeeeee"];function A(e){const f=parseInt(e.replace("#",""),16);return[f>>16&255,f>>8&255,f&255]}function q(e,f){const[a,o,l]=A(e),[d,r,i]=A(f);return Math.sqrt(Math.pow(d-a,2)+Math.pow(r-o,2)+Math.pow(i-l,2))}function of(e){const f=document.createElement("canvas"),a=f.getContext("2d");if(f.width=Math.round(50*(e.width/e.height)),f.height=50,!a)return;a.imageSmoothingQuality="high",a.imageSmoothingEnabled=!0,a.drawImage(e,0,0,f.width,f.height);const o=(i,c,n)=>{let h=0,p=n(i[0],c);for(let m=1;m<i.length;m+=1){const t=n(i[m],c);t<p&&(p=t,h=m)}return h};function l(i,c){const n=a?.getImageData(i,c,1,1);return"#"+n.data[0].toString(16).padStart(2,"0")+n.data[1].toString(16).padStart(2,"0")+n.data[2].toString(16).padStart(2,"0")}let d="";const r=[];for(let i=0;i<f.height;i+=2){for(let c=0;c<f.width;c+=1){const n=v[o(v,l(c,i),q)],h=v[o(v,l(c,i+1),q)];d+="%câ–„",r.push(`background-color: ${n};color: ${h};font-size: 15px;`)}d+=`
`}console.log(d,...r)}const{window:nf}=K;function z(e){let f,a;return f=new tf({props:{prevPhotoId:e[1],nextPhotoId:e[2]}}),{c(){J(f.$$.fragment)},l(o){O(f.$$.fragment,o)},m(o,l){Z(f,o,l),a=!0},p(o,l){const d={};l&2&&(d.prevPhotoId=o[1]),l&4&&(d.nextPhotoId=o[2]),f.$set(d)},i(o){a||(k(f.$$.fragment,o),a=!0)},o(o){C(f.$$.fragment,o),a=!1},d(o){F(f,o)}}}function df(e){let f,a,o,l,d,r,i,c,n,h,p,m,t=!e[4]&&z(e);return{c(){f=I("div"),a=I("img"),d=T(),r=I("img"),c=T(),t&&t.c(),this.h()},l(s){f=P(s,"DIV",{class:!0});var u=N(f);a=P(u,"IMG",{class:!0,src:!0,alt:!0}),d=D(u),r=P(u,"IMG",{src:!0,class:!0,alt:!0}),c=D(u),t&&t.l(u),u.forEach(S),this.h()},h(){g(a,"class","photo svelte-c3ihsa"),_(a.src,o=e[3]?e[5]:`data:image/png;base64,${e[0].data.placeholder}`)||g(a,"src",o),g(a,"alt",l=e[0].data.title),_(r.src,i="data:image/png;base64,"+e[0].data.placeholder)||g(r,"src",i),g(r,"class","placeholder svelte-c3ihsa"),g(r,"alt","placeholder"),g(f,"class",n="preview "+(e[3]?"loaded":"")+" "+(e[4]?"full":"")+" svelte-c3ihsa")},m(s,u){j(s,f,u),b(f,a),b(f,d),b(f,r),b(f,c),t&&t.m(f,null),h=!0,p||(m=[w(nf,"keyup",e[7]),w(a,"click",e[6]),w(a,"keyup",lf)],p=!0)},p(s,[u]){(!h||u&41&&!_(a.src,o=s[3]?s[5]:`data:image/png;base64,${s[0].data.placeholder}`))&&g(a,"src",o),(!h||u&1&&l!==(l=s[0].data.title))&&g(a,"alt",l),(!h||u&1&&!_(r.src,i="data:image/png;base64,"+s[0].data.placeholder))&&g(r,"src",i),s[4]?t&&($(),C(t,1,1,()=>{t=null}),Q()):t?(t.p(s,u),u&16&&k(t,1)):(t=z(s),t.c(),k(t,1),t.m(f,null)),(!h||u&24&&n!==(n="preview "+(s[3]?"loaded":"")+" "+(s[4]?"full":"")+" svelte-c3ihsa"))&&g(f,"class",n)},i(s){h||(k(t),h=!0)},o(s){C(t),h=!1},d(s){s&&S(f),t&&t.d(),p=!1,G(m)}}}function lf(){}function sf(e){return new Promise(f=>{setTimeout(f,e)})}function rf(e,f,a){let o,{photo:l}=f,{prevPhotoId:d=null}=f,{nextPhotoId:r=null}=f,{baseUrl:i}=f,c=!1,n=!1;function h(t){if(!n){const{pageX:s,pageY:u}=t;setTimeout(()=>{const L=document.documentElement.scrollWidth-window.innerWidth,R=document.documentElement.scrollHeight-window.innerHeight,M=X=>Math.round(X*100)/100;window.scrollTo(L*M(s/window.innerWidth),R*M(u/window.innerHeight))})}a(4,n=!n)}function p(){return new Promise(t=>{const s=new Image;s.onload=()=>{t(!0),of(s)},s.src=o.href})}function m(t){t.key==="Escape"&&a(4,n=!1)}return V(()=>{Promise.all([p(),sf(400)]).then(()=>{a(3,c=!0)})}),e.$$set=t=>{"photo"in t&&a(0,l=t.photo),"prevPhotoId"in t&&a(1,d=t.prevPhotoId),"nextPhotoId"in t&&a(2,r=t.nextPhotoId),"baseUrl"in t&&a(8,i=t.baseUrl)},e.$$.update=()=>{e.$$.dirty&257&&a(5,o=new URL(`../images/full/${l.id}.jpg`,i))},[l,d,r,c,n,o,h,m,i]}class hf extends B{constructor(f){super(),H(this,f,rf,df,W,{photo:0,prevPhotoId:1,nextPhotoId:2,baseUrl:8})}}export{hf as default};
